# 2021-01-25

## 大象

### 1.1.2 面向过程的困难

> 这种把复杂工程转化成标准零部件的做法，在工业界早已非常普遍，这正是一种面向对象的方法。与过程方法不同的是，汽车不再被看作一个一次成型的整体，而是被分解成了许多标准的功能部件来分步设计制造。我们在市面上看到的每一款汽车，都是基于某个商业策略，由不同的标准零部件组合而成。当市场变化、商业策略变化时，可以通过变更标准零部件来迅速生产一款新车型。

汽车制造的过程和面向对象类比，其实是不恰当的。汽车等制造业对零件的检测和组装都有非常成熟的检验体系，
软件的制造具有非常大的不确定性。比如，对一般人解释汽车制造的过程会非常容易被理解；而如果向一个普通人解释
软件的设计过程，就非常困难。

并不是制造汽车天然就是面向对象的，而是需要以低成本制造非常多汽车时，才使用抽象的方法做到的。  
并不是复杂的东西只能用面向对象才能制造，火箭非常复杂，但是大部分零件是定制的，可以不太多的考虑抽象。  
软件制造为什么必须要用面向对象，当需要大规模的，低成本的制造，可以稳定工作的软件时，需要抽象出标准化可独立检测的部件。  
如果用面向过程方法制造大规模软件，会有什么问题，其实不是面向过程方法不对，而是不抽象的方法不对。只要抽象就可以解决
低成本制造，大规模的，稳定工作的软件。  

**面向对象可以理解为一种抽象的思维方式。**

汽车是可以被自然推导出来的。需要移动所以有轮子；需要使轮子转动，所以有发动机；需要人乘坐，所以有座位。只要自然的呼应需求，再想办法把实现需求的部件，尽量美观实用的方式组合起来。并不需要让人费解的思维方式。  

软件的需求，可以是业务执行者描述的职责，与其它关系人的互动，具体的功能要求。软件的设计是和设计汽车思维方式类似，把各个实现功能的模块一个一个实现，然后根据前后顺序组合起来。是一般人最容易理解的思维方式。  

那么面向过程和面向对象的区别在哪里呢？面向过程认为需求是一个一个可以预先完全设计好的流程。面向对象认为具体的使用过程是不可预测的。  
如果假设用户的使用是不可预测的，应该如何思考问题呢？
所谓的关联，泛化，依赖，多态，其实都是在预测未来的使用场景。
只不过是把使用的场景限制在一个较小的范围。相当于微观经济学与宏观经济学，理论物理与量子力学。
在小范围时就用根据流程面向过程；在较大范围面向对象。但是好象也不成立。

## 代码精进

### 第一章

#### 内容补充

Oneline Search 中的 SearchCode插件，可以做为代码搜索工具  
也可以自行配置Code1f 代码搜索工具

### 第二章

规范制定易，坚持难，长久坚持更难。  
人性是懒惰的，要求人自律非常困难。如果有自动化机机制可以解决一部分问题。代码审查时，审查人必须认真负责，不放过任何一个破窗。  
借鉴机械纸图的过程，各部门流转审图并签字后，归档保管，也许有一些作用。  

### 第三章

```java
String isocode = Optional.ofNullable(user)
                .flatMap(User::getAddress)
                .flatMap(Address::getCountry)
                .map(Country::getIsocode)
                .orElse("default");

```

## Spring揭秘

### 第4章 Sping的IoC容器之BeanFacotory P69

PropertyPlaceholderConfigurer  
将系统管理配置和业务对象配置分离  
在xml中使用占位符placeHolder  
