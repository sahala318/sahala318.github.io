# 2020-12-23

## EA与UML建模 EAandUML.swf

### UML建模的一般过程

提出要求-->设计-->评价设计-->开发-->评价结构-->建造-->测试  
设计从小到大，逐步展开； 实现从单个部件开始，逐步组装，形成产品。  

1. initialize
2. business analyis
3. system design
4. enginerring
5. development
6. testing
7. usage

交互，螺旋状向前推进  

需求图--用例图actor--逻辑图--

模型的架构层次视图：在ea中经常用**实现**将不同图之间联系  

### 案例分析：网上书店系统

1. 需求建模
    EA功能点：  
    * 自动生成需求编号，REQ001...
    * 根据需求的不同阶段将需求标记颜色，路径：Layout/Appearance/Status/Config Status Colors..
      + Proposed，建议的，Item has been proposed
      + Approved，赞成，Item is approved
      + Implemented，生效的，Finished
      + Mandatory，强制的，Required
      + Validated，确认有效的，Approved and Checked

    常用的需求间关系是**包含**关系，例如，管理客户账号，包含：增加用户，删除用户。  

    需求建模包的结构：
    * 总图，将分散的功能性需求和非功能性需求图一起展示
    * 功能性需求包
      + 包图
      + 用例图
        - 管理用户
        - 管理存货
        - 取订单
        - 完成订单
    * 非功能性需求

2. 用例图

避免一张图过于复杂，分成多个用例图，然后通过链接集成到一个总图上。  
用例右下角有眼镜图标，表示此是一个复合元素。  

行为模型，在UML中有三种，活动图，状态图，顺序图。

3. 逻辑数据模型

领域建模，确定系统边界。领域模型  

数据建模-概念模型，只反映实体名和实体之间的关系，没有属性和方法。  
概念模型扩展为抽象类模型（MDA PIM），确定实体的属性和方法。独立于实现，独立于具体的数据库,独立于具体平台。    
抽象模型可以用来创建实现模型（MDA PSM）PSM是针对具体平台。  


4. MDA转换

从PIM 到 PSM  

5. 物理数据模型

转换后称为物理模型  

6. 生成sql脚本

类图：实体类、控制类、边界类
跟踪：
+ 从需求模型到物理模型。需求图->用例图->逻辑图->数据库。  
+ Relationship Matrix 关系矩阵表，建立需求与用例图之间的关系  
+ Traceablity 窗口查看关系，check变更带来的影响  

### 行为模型的代码生成与仿真

+ 活动图
+ 顺序图
+ 状态机图

问题１：可以为行为模型生成代码吗？　　
问题２：当行为模型呈现出复杂的情形时，比如有多个分支，分支又嵌套循环和分支，我们能仿真行为模型的逻辑过程吗？　　

调试仿真  
设置断点  
调用界面  
使用触发器  
编写仿真脚本
  + 每个状态可以写三个函数：entry,exit,do。调用javascript函数  
设置仿真环境，设置环境初始值   

为什么要进行模型仿真？   
+ 在一电网中，如何预测一项作业的影响？
+ 在列车调度计划中，如何预测一个调度方案的效果？
+ 在一个业务活动中，如何对不同的方案进行评价？  
+ 在一个过程存在多个分支，循环和不确定因素的场景时。

### Sparx 如何使用EA

* asterisk 星号
* plus 加号
* dash 破折号，即-
